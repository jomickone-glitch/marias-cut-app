<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Maria's Cut - Estética Animal</title>

    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Maria's Cut">
    <meta name="theme-color" content="#F9F7F2">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Maria's Cut">

    <!-- PWA Icons & Manifest -->
    <link rel="apple-touch-icon" href="778405F5-FB9C-47F4-908A-185070ECD1DC.PNG">
    <link rel="manifest" href="manifest.json">

    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#C5A059',
                        primaryDark: '#A88B45',
                        secondary: '#D4B896',
                        secondaryDark: '#B89C7A',
                        accent: '#FCEEA7',
                        background: '#F9F7F2',
                    },
                    fontFamily: {
                        sans: ['Quicksand', 'Poppins', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* ================================================================
           CORE CSS ARCHITECTURE - Clean & Robust
           ================================================================ */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: #E8E4DE;
            /* Desktop Background */
            font-family: 'Quicksand', sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            /* Prevent body scroll, handle in screens */
        }

        /* === MOBILE PWA OVERRIDES === */
        @media screen and (max-width: 768px) {

            html,
            body {
                background-color: #F9F7F2 !important;
                height: 100% !important;
                width: 100% !important;
                overflow: hidden !important;
                position: fixed;
                /* Lock body */
            }

            .phone-frame {
                width: 100% !important;
                height: 100% !important;
                border-radius: 0 !important;
                border: none !important;
                box-shadow: none !important;
                top: 0 !important;
                left: 0 !important;
                transform: none !important;
                padding-top: 0 !important;
                /* CRITICAL: No top padding */
            }

            .phone-notch {
                display: none !important;
            }
        }

        /* === PHONE FRAME SIMULATOR (Desktop) === */
        .phone-frame {
            width: 375px;
            height: 812px;
            background: #F9F7F2;
            border-radius: 50px;
            box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.4);
            border: 12px solid #1a1a1a;
            position: relative;
            overflow: hidden;
        }

        .phone-notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 30px;
            background: #1a1a1a;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            z-index: 1000;
        }

        /* === SCREEN SYSTEM === */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #F9F7F2;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            /* Header sticky needs this, content scrolls separately */
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 10;
        }

        .screen.hidden {
            display: none !important;
            /* Strict hiding */
            opacity: 0;
            pointer-events: none;
            z-index: -1;
        }

        .screen.active {
            display: flex !important;
            opacity: 1;
            z-index: 20;
        }

        /* === SCROLLABLE CONTENT AREA === */
        .scroll-content {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding-bottom: 100px;
            /* Space for bottom nav */
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            /* Firefox */
        }

        .scroll-content::-webkit-scrollbar {
            display: none;
        }

        /* === HEADER MASTER CLASS === */
        .header-master {
            background-color: #F9F7F2;
            /* Solid background matches body */
            /* Safe Area Padding Top + some breathing room */
            padding-top: env(safe-area-inset-top, 20px);
            padding-bottom: 1rem;
            padding-left: 1.25rem;
            padding-right: 1.25rem;

            position: sticky;
            top: 0;
            z-index: 50;

            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(0, 0, 0, 0.03);
            flex-shrink: 0;
        }

        /* === GLOBAL NAV === */
        #global-bottom-nav {
            z-index: 9999 !important;
            padding-bottom: env(safe-area-inset-bottom, 20px);
        }

        /* === UTILS === */
        .btn-ripple {
            position: relative;
            overflow: hidden;
            transform: translate3d(0, 0, 0);
        }

        .btn-ripple:active {
            transform: scale(0.98);
        }

        .service-card {
            transition: transform 0.3s ease;
        }

        .service-card:active {
            transform: scale(0.98);
        }

        /* Typography & Colors */
        .text-primary {
            color: #C5A059 !important;
        }

        .bg-primary {
            background-color: #C5A059 !important;
        }

        .bg-secondary {
            background-color: #D4B896 !important;
        }
    </style>
</head>

<body>
    <div class="phone-frame">
        <div class="phone-notch"></div>

        <!-- ==============================================
             SCREEN 1: HOME (SOCIAL FEED)
             ============================================== -->
        <div id="screen-home" class="screen active">
            <div class="header-master">
                <div>
                    <h1 class="text-xl font-bold text-[#4B3621]">Maria's Social Club</h1>
                    <p class="text-xs text-primary font-bold uppercase tracking-wider">Comunidad Exclusiva</p>
                </div>
                <!-- Notif Icon -->
                <div class="w-9 h-9 bg-white/60 rounded-full flex items-center justify-center border border-white">
                    <svg class="w-5 h-5 text-[#4B3621]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                    </svg>
                </div>
            </div>

            <div class="scroll-content px-0 pt-0">
                <!-- Stories -->
                <div id="stories-rail"
                    class="flex gap-4 p-4 overflow-x-auto border-b border-gray-100/50 bg-white/30 backdrop-blur-sm mb-4"
                    style="scrollbar-width:none">
                    <div id="stories-container" class="flex gap-4"></div> <!-- JS Injection -->
                </div>
                <!-- Feed -->
                <div id="feed-container" class="px-4 space-y-6"></div> <!-- JS Injection -->
            </div>
        </div>

        <!-- ==============================================
             SCREEN 2: SHOP (BOUTIQUE)
             ============================================== -->
        <div id="screen-shop" class="screen hidden">
            <div class="header-master">
                <h1 class="text-xl font-bold text-[#4B3621]">Boutique</h1>
                <div class="relative">
                    <svg class="w-6 h-6 text-[#5D4037]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <span id="cart-badge"
                        class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 rounded-full flex items-center justify-center font-bold">0</span>
                </div>
            </div>

            <div class="scroll-content px-5 pt-2">
                <!-- Search -->
                <div class="relative mb-6">
                    <input type="text" placeholder="Buscar productos..."
                        class="w-full bg-white border border-gray-200 rounded-2xl py-3 pl-10 pr-4 text-sm focus:outline-none focus:border-primary">
                    <svg class="w-5 h-5 text-gray-400 absolute left-3 top-3.5" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </div>

                <!-- Product Grid (Mockup) -->
                <div class="grid grid-cols-2 gap-4">
                    <!-- Item 1 -->
                    <div class="bg-white p-3 rounded-2xl shadow-sm border border-gray-100">
                        <img src="https://images.unsplash.com/photo-1589924691195-41432c84c161?w=300&h=300&fit=crop"
                            class="rounded-xl w-full h-32 object-cover mb-3 bg-gray-100">
                        <h3 class="text-sm font-bold text-[#4B3621] mb-1">Perrarina Pro</h3>
                        <div class="flex justify-between items-center">
                            <span class="text-xs font-bold text-primary">54.99 €</span>
                            <button onclick="addToCart('Perrarina Pro', 54.99)"
                                class="w-7 h-7 bg-gray-100 rounded-full flex items-center justify-center hover:bg-primary hover:text-white transition-colors">+</button>
                        </div>
                    </div>
                    <!-- Item 2 -->
                    <div class="bg-white p-3 rounded-2xl shadow-sm border border-gray-100">
                        <img src="https://images.unsplash.com/photo-1576201836106-db1758fd1c97?w=300&h=300&fit=crop"
                            class="rounded-xl w-full h-32 object-cover mb-3 bg-gray-100">
                        <h3 class="text-sm font-bold text-[#4B3621] mb-1">GPS Collar</h3>
                        <div class="flex justify-between items-center">
                            <span class="text-xs font-bold text-primary">129.00 €</span>
                            <button onclick="addToCart('GPS Collar', 129.00)"
                                class="w-7 h-7 bg-gray-100 rounded-full flex items-center justify-center hover:bg-primary hover:text-white transition-colors">+</button>
                        </div>
                    </div>
                    <!-- Item 3 -->
                    <div class="bg-white p-3 rounded-2xl shadow-sm border border-gray-100">
                        <img src="https://images.unsplash.com/photo-1541599540903-216a46ca1dc0?w=300&h=300&fit=crop"
                            class="rounded-xl w-full h-32 object-cover mb-3 bg-gray-100">
                        <h3 class="text-sm font-bold text-[#4B3621] mb-1">Juguete Kong</h3>
                        <div class="flex justify-between items-center">
                            <span class="text-xs font-bold text-primary">24.50 €</span>
                            <button onclick="addToCart('Juguete Kong', 24.50)"
                                class="w-7 h-7 bg-gray-100 rounded-full flex items-center justify-center hover:bg-primary hover:text-white transition-colors">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ==============================================
             SCREEN 3: APPOINTMENTS (SERVICE LIST)
             ============================================== -->
        <div id="screen-appointments" class="screen hidden">
            <div class="header-master">
                <h1 class="text-xl font-bold text-[#4B3621]">Agendar</h1>
                <div class="w-9 h-9 bg-primary/10 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                </div>
            </div>

            <div class="scroll-content px-5 pt-4">
                <p class="text-xs text-gray-500 font-bold uppercase tracking-widest mb-4">Selecciona Ubicación</p>

                <!-- Card Local -->
                <div onclick="showScreen('screen-booking-local')"
                    class="service-card w-full bg-white rounded-3xl p-5 shadow-sm border border-gray-100 mb-4 cursor-pointer relative overflow-hidden group">
                    <div
                        class="absolute right-0 top-0 w-32 h-32 bg-primary/10 rounded-full -mr-10 -mt-10 transition-transform group-hover:scale-150">
                    </div>
                    <div class="relative z-10 flex items-center">
                        <div
                            class="w-14 h-14 bg-primary/20 rounded-2xl flex items-center justify-center mr-4 text-primary">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-[#4B3621]">En Local</h3>
                            <p class="text-sm text-gray-500">Ven a nuestra sede VIP</p>
                        </div>
                        <svg class="w-6 h-6 text-gray-300 ml-auto" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </div>
                </div>

                <!-- Card Domicilio -->
                <div onclick="showScreen('screen-booking-van')"
                    class="service-card w-full bg-white rounded-3xl p-5 shadow-sm border border-gray-100 mb-6 cursor-pointer relative overflow-hidden group">
                    <div
                        class="absolute right-0 top-0 w-32 h-32 bg-secondary/10 rounded-full -mr-10 -mt-10 transition-transform group-hover:scale-150">
                    </div>
                    <div class="relative z-10 flex items-center">
                        <div
                            class="w-14 h-14 bg-secondary/20 rounded-2xl flex items-center justify-center mr-4 text-secondaryDark">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0" />
                            </svg>
                        </div>
                        <div>
                            <h3 class="text-lg font-bold text-[#4B3621]">A Domicilio</h3>
                            <p class="text-sm text-gray-500">Vamos a tu casa</p>
                        </div>
                        <svg class="w-6 h-6 text-gray-300 ml-auto" fill="none" stroke="currentColor"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                    </div>
                </div>

                <!-- Upcoming -->
                <h3 class="text-lg font-bold text-[#4B3621] mb-4">Próximas Citas</h3>
                <div class="bg-gray-50 border border-gray-100 rounded-3xl p-8 text-center">
                    <p class="text-gray-400 text-sm">No tienes citas agendadas aún.</p>
                </div>
            </div>
        </div>

        <!-- ==============================================
             SCREEN 4: BOOKING DETAIL (LOCAL)
             ============================================== -->
        <div id="screen-booking-local" class="screen hidden">
            <div class="header-master">
                <button onclick="showScreen('screen-appointments')"
                    class="p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h1 class="text-lg font-bold text-[#4B3621]">Reserva en Local</h1>
                <div class="w-6"></div> <!-- Spacer for center alignment -->
            </div>

            <!-- Progress Bar -->
            <div class="w-full h-1 bg-gray-100">
                <div class="h-full bg-primary w-1/2"></div>
            </div>

            <div class="scroll-content px-5 pt-6">
                <!-- Services -->
                <h2 class="text-xl font-bold text-[#4B3621] mb-4">Servicios</h2>
                <div class="space-y-4 mb-8">
                    <div class="bg-white border-2 border-primary rounded-2xl p-4 cursor-pointer shadow-sm relative">
                        <div
                            class="absolute top-0 right-0 bg-primary text-white text-[10px] font-bold px-2 py-1 rounded-bl-xl rounded-tr-xl">
                            POPULAR</div>
                        <h3 class="font-bold text-[#4B3621]">Baño Completo</h3>
                        <p class="text-xs text-gray-500 mb-2">Baño, secado, uñas</p>
                        <p class="text-lg font-bold text-primary">25.000 €</p>
                    </div>
                    <div class="bg-white border border-gray-100 rounded-2xl p-4 cursor-pointer shadow-sm opacity-60">
                        <h3 class="font-bold text-[#4B3621]">Grooming Pro</h3>
                        <p class="text-xs text-gray-500 mb-2">Corte estilo tijera</p>
                        <p class="text-lg font-bold text-gray-400">45.000 €</p>
                    </div>
                </div>

                <!-- Schedule (Fixed the floating issue) -->
                <div class="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 mb-6">
                    <h3 class="text-sm font-bold text-[#4B3621] mb-3">Horarios Mañana</h3>
                    <div class="grid grid-cols-3 gap-2">
                        <button class="py-2 bg-primary text-white rounded-xl text-sm font-bold">09:00</button>
                        <button class="py-2 bg-gray-100 text-gray-500 rounded-xl text-sm">09:30</button>
                        <button class="py-2 bg-gray-100 text-gray-500 rounded-xl text-sm">10:00</button>
                    </div>
                </div>

                <!-- Confirm Btn -->
                <button onclick="confirmBooking('local')"
                    class="btn-ripple w-full bg-primary text-white font-bold py-4 rounded-full shadow-lg shadow-primary/30 text-lg">
                    Confirmar Reserva
                </button>
            </div>
        </div>

        <!-- ==============================================
             SCREEN 5: BOOKING DETAIL (VAN) - New
             ============================================== -->
        <div id="screen-booking-van" class="screen hidden">
            <div class="header-master">
                <button onclick="showScreen('screen-appointments')"
                    class="p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors">
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>
                <h1 class="text-lg font-bold text-[#4B3621]">A Domicilio</h1>
                <div class="w-6"></div>
            </div>
            <div class="w-full h-1 bg-gray-100">
                <div class="h-full bg-secondary w-1/2"></div>
            </div>

            <div class="scroll-content px-5 pt-6">
                <div class="bg-secondary/10 p-4 rounded-2xl mb-6 flex items-start">
                    <svg class="w-6 h-6 text-secondaryDark mr-3 mt-1" fill="none" stroke="currentColor"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    <div>
                        <h3 class="font-bold text-[#4B3621] text-sm">Tu Dirección Actual</h3>
                        <p class="text-xs text-gray-500">Av. Las Condes 12345, Santiago</p>
                    </div>
                </div>

                <button onclick="confirmBooking('van')"
                    class="btn-ripple w-full bg-secondary text-white font-bold py-4 rounded-full shadow-lg shadow-secondary/30 text-lg">
                    Reservar Furgoneta
                </button>
            </div>
        </div>

        <!-- ==============================================
             SCREEN: LOADING
             ============================================== -->
        <div id="screen-loading" class="screen hidden justify-center items-center bg-[#F9F7F2]">
            <div class="w-16 h-16 border-4 border-gray-200 border-t-primary rounded-full animate-spin mb-6"></div>
            <p class="text-[#4B3621] font-medium animate-pulse">Confirmando cita...</p>
        </div>

        <!-- ==============================================
             SCREEN: CONFIRMED
             ============================================== -->
        <div id="screen-confirmed" class="screen hidden justify-center items-center px-6 text-center">
            <div
                class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6 shadow-sm">
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-[#4B3621] mb-2">¡Reserva Exitosa!</h2>
            <p class="text-gray-500 mb-8 max-w-xs mx-auto">Tu cita ha sido agendada correctamente. Te esperamos.</p>

            <button onclick="showScreen('screen-home')"
                class="btn-ripple w-full bg-[#4B3621] text-white font-bold py-4 rounded-full shadow-lg">
                Volver al Club
            </button>
        </div>

    </div> <!-- End Phone Frame -->

    <!-- ==============================================
         GLOBAL BOTTOM NAV (Outside Phone Frame for z-index safety in simulation)
         ============================================== -->
    <div id="global-bottom-nav"
        class="fixed bottom-0 left-0 w-full bg-[#F9F7F2]/95 backdrop-blur-md border-t border-gray-200/50 flex justify-around items-center pt-3 pb-safe">
        <!-- Home -->
        <button onclick="showScreen('screen-home')" id="nav-home"
            class="flex flex-col items-center gap-1 w-1/4 text-primary transition-colors">
            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                <path
                    d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
            </svg>
            <span class="text-[10px] font-bold">Club</span>
        </button>
        <!-- Shop -->
        <button onclick="showScreen('screen-shop')" id="nav-shop"
            class="flex flex-col items-center gap-1 w-1/4 text-gray-400 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
            </svg>
            <span class="text-[10px] font-bold">Tienda</span>
        </button>
        <!-- Appointments -->
        <button onclick="showScreen('screen-appointments')" id="nav-appointments"
            class="flex flex-col items-center gap-1 w-1/4 text-gray-400 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            <span class="text-[10px] font-bold">Agendar</span>
        </button>
        <!-- Profile -->
        <button class="flex flex-col items-center gap-1 w-1/4 text-gray-400 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
            <span class="text-[10px] font-bold">Perfil</span>
        </button>
    </div>

    <!-- ==============================================
         GLOBAL LOGIC
         ============================================== -->
    <script>
        // --- SCREEN MANAGER ---
        function showScreen(screenId) {
            // 1. Hide ALL screens strictly
            document.querySelectorAll('.screen').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('active');
            });

            // 2. Show Target
            const target = document.getElementById(screenId);
            if (target) {
                target.classList.remove('hidden');
                target.classList.add('active');
            }

            // 3. Update Nav UI
            updateNavUI(screenId);
        }

        function updateNavUI(screenId) {
            // Reset all
            document.querySelectorAll('#global-bottom-nav button').forEach(btn => {
                btn.classList.remove('text-primary');
                btn.classList.add('text-gray-400');
                // Could swap icons solid/outline here if desired
            });

            let activeBtnId = 'nav-home';
            if (screenId.includes('shop')) activeBtnId = 'nav-shop';
            if (screenId.includes('appointments') || screenId.includes('booking')) activeBtnId = 'nav-appointments';

            const activeBtn = document.getElementById(activeBtnId);
            if (activeBtn) {
                activeBtn.classList.remove('text-gray-400');
                activeBtn.classList.add('text-primary');
            }
        }

        // --- SHOP CART LOGIC ---
        let cart = 0;
        function addToCart(name, price) {
            cart++;
            const badge = document.getElementById('cart-badge');
            badge.innerText = cart;
            badge.classList.remove('hidden');

            // Simple visual feedback
            alert(`¡${name} agregado al carrito!`);
        }

        // --- BOOKING LOGIC ---
        function confirmBooking(type) {
            showScreen('screen-loading');
            setTimeout(() => {
                showScreen('screen-confirmed');
            }, 2000); // 2 sec fake load
        }

        // --- SOCIAL FEED (Render Mock) ---
        const stories = [
            { name: 'Luna', img: 'https://images.unsplash.com/photo-1552053831-71594a27632d?fit=crop&w=100&h=100' },
            { name: 'Max', img: 'https://images.unsplash.com/photo-1536590158209-e9d615d525e4?fit=crop&w=100&h=100' },
            { name: 'Coco', img: 'https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?fit=crop&w=100&h=100' }
        ];

        const feed = [
            { user: 'Roberto', text: '¡Increíble servicio! Max quedó hermoso.', img: 'https://images.unsplash.com/photo-1517849845537-4d257902454a?fit=crop&w=500&h=400' },
            { user: 'Ana', text: 'La furgoneta es lo máximo. Súper cómodo.', img: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?fit=crop&w=500&h=400' }
        ];

        function renderSocial() {
            // Stories
            const storiesHTML = stories.map(s => `
                <div class="flex flex-col items-center gap-1 cursor-pointer">
                    <div class="w-16 h-16 rounded-full p-[2px] bg-gradient-to-tr from-primary to-secondary">
                        <img src="${s.img}" class="w-full h-full rounded-full border-2 border-[#F9F7F2] object-cover">
                    </div>
                    <span class="text-xs font-medium text-gray-600">${s.name}</span>
                </div>
            `).join('');
            document.getElementById('stories-container').innerHTML = storiesHTML;

            // Feed
            const feedHTML = feed.map(f => `
                <div class="bg-white rounded-3xl p-4 shadow-sm border border-gray-100/50">
                    <div class="flex items-center gap-3 mb-3">
                        <div class="w-10 h-10 rounded-full bg-gray-200"></div>
                        <div>
                            <h4 class="text-sm font-bold text-[#4B3621]">${f.user}</h4>
                            <p class="text-[10px] text-gray-400">Cliente VIP</p>
                        </div>
                    </div>
                    <img src="${f.img}" class="w-full h-64 object-cover rounded-2xl mb-3 bg-gray-100">
                    <p class="text-sm text-gray-600"><span class="font-bold text-[#4B3621]">${f.user}</span> ${f.text}</p>
                </div>
            `).join('');
            document.getElementById('feed-container').innerHTML = feedHTML;
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderSocial();
        });

    </script>
</body>

</html>